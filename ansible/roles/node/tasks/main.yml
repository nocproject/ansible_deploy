#
# node role tasks
#
---
- name: "Include OS-specific tasks"
  include: "os/{{ ansible_distribution }}/main.yml"

- name: Create NOC group
  group:
    name: "{{noc_group}}"
    state: present

- name: Create NOC user
  user:
    name: "{{noc_user}}"
    group: "{{noc_group}}"
    comment: "NOC user"
    state: present

- name: Include {{install_method}} install method
  include: "{{install_method}}.yml"

- name: Include venv init
  include: "init_venv.yml"

- name: Include requirements install
  include: "requirements.yml"

- name: Create dirs
  include: "dirs.yml"

- name: Generate configs
  include: "config.yml"

- name: Include noc hacks
  include: "hacks.yml"

- name: Include post install
  include: "post_install.yml"

