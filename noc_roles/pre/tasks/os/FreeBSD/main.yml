---
- name: Setting hostname in rc.conf
  become: true
  lineinfile: dest=/etc/rc.conf regexp=^hostname= line="hostname=\"{{ ansible_nodename }}\""
  tags:
    - config

- name: Install FreeBSD system packages
  pkgng:
    name: "{{item}}"
    state: present
  become: true
  with_items:
    - ca_root_nss
    - sudo
    - curl
    - unzip
    - gtar
  tags:
    - requirements

#- name: Update hostname
#  command: hostname {{ ansible_nodename }}
#  tags:
#    - config

- name: create dirs
  become: true
  file:
    state: directory
    path: "{{item}}"
    owner: root
    group: wheel
    mode: 0755
  with_items:
    - "{{etc_prefix}}/newsyslog.conf.d"
    - "{{etc_prefix}}/rc.d"
