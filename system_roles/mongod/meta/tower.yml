---
forms:
  mongod:
    description: >
      <strong>Service type</strong>: External <br/>
      <strong>Short description</strong>: Primary database <br/>
      <strong>Long description</strong>: Used for most of operations<br/>
      <strong>Scale Recommendations</strong>: At least one. Have to be run in replicated mode with 3 or even 5 nodes. <br/>
      <strong>docs</strong>: https://docs.mongodb.com/manual/ <br/>
      <strong>Placement constraint</strong>: Long living nodes. Medium cpu usage. Consumes at least 50%+1Gb of memery on node. Better use separate one.<br/>
    mongod_logging_destination:
      default: "file"
      label: "Mongo logging driver"
      description: "<strong>Use syslog if you can</strong>. File option is for backward compatibility only."
      type: list
      options:
        - file
        - syslog
    mongod_db:
      default: noc
      type: str
      label: Db name
    mongod_user:
      default: noc
      type: str
      label: Username
    mongod_password:
      default: noc
      type: str
      label: Password
    mongod_rs:
      default: noc
      type: str
      label: Replicaset name
    mongod_engine:
      default: wiredTiger
      type: str
      label: MongoDB engine
      description: "Do not use mmapv1 in production"
      type: list
      options:
        - wiredTiger
        - mmapv1

    mongod_version:
      default: 3.4
      type: str
      label: Mongo version

services:
  mongod:
    level: system
    category: external
    port: 27017